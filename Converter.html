<!-- html 생성 -> 버튼 생성 -> 이벤트 리스너 -> 함수 추가 -->
 <!-- Merge Main -->
<!DOCTYPE html>
<html>
    <body>
        <div id = "root"></div>
    </body>
    <script src = "https://unpkg.com/react@17/umd/react.development.js"></script>
    <script src = "https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone@6.26.0/babel.min.js"></script>
    <script type="text/babel">

        // 분 -> 시간 변환기
        function MinutesToHours(){
            // 시간 함수
            const [minutes, setMinutes] = React.useState();
            const onChange = (event) => setMinutes(event.target.value);

            // 리셋함수
            const reset = () => setMinutes(0);

            // flip 함수
            const [fliped, setFliped] = React.useState(false);
            const flip = () => setFliped((current) => !current, reset());

            return (
                <div>
                    <div>
                        <label htmlFor = "minutes">Minutes</label>
                        <input 
                            value = {fliped ? minutes * 60 : minutes}
                            id = "minutes"
                            placeholder = "Enter minutes"
                            type = "minutes"  
                            onChange = {onChange} 
                            disabled = {fliped}
                        />
                    </div>
                    <div>
                        <label htmlFor = "hours">Hours</label>
                        <input 
                            value = {fliped ? minutes : Math.round(minutes / 60)}
                            id = "hours"
                            placeholder = "Enter hours"
                            type = "hours"
                            onChange = {onChange} 
                            disabled = {!fliped}
                        />
                    </div>
                    <button onClick = {reset}>Reset</button>
                    <button onClick = {flip}>{fliped? "Turn back" : "Invert"}</button>    

                
                </div>
            );
        }

        // 킬로미터 -> 마일 변환기
        function KmToMiles(){
            // 시간 함수
            const [minutes, setMinutes] = React.useState();
            const onChange = (event) => setMinutes(event.target.value);

            // 리셋함수
            const reset = () => setMinutes(0);

            // flip 함수
            const [fliped, setFliped] = React.useState(false);
            const flip = () => setFliped((current) => !current, reset());

            return (
                <div>
                    <div>
                        <label htmlFor = "minutes">KM</label>
                        <input 
                            value = {fliped ? minutes * 1000 : minutes}
                            id = "minutes"
                            placeholder = "Enter minutes"
                            type = "minutes"  
                            onChange = {onChange} 
                            disabled = {fliped}
                        />
                    </div>
                    <div>
                        <label htmlFor = "hours">M</label>
                        <input 
                            value = {fliped ? minutes : Math.round(minutes / 1000)}
                            id = "hours"
                            placeholder = "Enter hours"
                            type = "hours"
                            onChange = {onChange} 
                            disabled = {!fliped}
                        />
                    </div>
                    <button onClick = {reset}>Reset</button>
                    <button onClick = {flip}>{fliped? "Turn back" : "Invert"}</button>    

                
                </div>
            );
        }

        // 웹 페이지 UI
        function App(){
            const [index, setIndex] = React.useState("0");
            const onChange = (event) => setIndex(event.target.value);
            return (
                <div>
                    <h2> Super Converter </h2>
                    <select value = {index} onChange = {onChange}>
                        <option value = "0">Select Converter</option>
                        <option value = "1">Minutes to Hours</option>
                        <option value = "2">Km to Miles</option>
                    </select>
                    <hr />
                    {index === "0" ? "Please Select Your Units!": null}
                    {index === "1" ? <MinutesToHours /> : null}
                    {index === "2" ? <KmToMiles /> : null}
                </div>
            );
        }

        // 웹 페이지 렌더링
        const root = document.getElementById("root");
        ReactDOM.render(<App />, root);


    </script>
</html>